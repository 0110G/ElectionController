# ElectionController API #

## Informal ##
As an Indian, I am very much used to seeing elections
now and then. They happen at different scales, ranging
from a small poll to choose class monitor to the
Parliamentry ones. This API is my attempt to simulate
an election on cloud and pave way for digital elections
in the future.

## Introduction ##
This API allows a user to 
1. Create and host a new election, set the time of
   election and customize winning criteria.
2. Add required participants to those elections.
3. Add multiple posts for an election (for eg. in a 
   colony election, we might have posts for Head, 
   Treasurer... etc)
4. Edit the election
   
   4a. Add/Remove participants
   
   4b. Add/Remove/Refactor Posts
   
    4c. Add/Remove candidates
    
   **These actions are possible only if the
   requesting user is authorised to do so**.
5. And of course **Vote**.


## Endpoints ##

### Create A New Election ###

Takes voter credentials and election configuration, and
registers and returns specified election;

Endpoint: ```/NewElection```

Parameters: ```NewElectionQuery```

    Structure NewElectionQuery{
        @Required:
        String personId;
        String personPassword;
        
        @Optional
        String electionTitle;
        String electionDescription;
        List<String> registeredVoterIds;
        List<Post> registeredPosts;
    }

    Structure Post{
        @Required
        @NonEmpty List<String> registeredContestants;

        @Optional
        String postDescription;
        WinCriteria winCriteria;
    }

Returns: ```Response```

    Structure Response{
        Integer statusCode;
        String message;
        Election election;
    }
    
    Structure Election{
        String electionTitle;
        @AutoGenerated String electionId;
        String electionDescription;
        String adminId;
        List<Voters> registeredVoters;
        List<Post> registeredPosts;
    }

    Structure Voters{
        String voterId;
        String voterName;
        @Masked String voterPassword;
    }

Use Cases:
1. To create and host a new election.

Exceptions:
1. When user enters invalid credentials in ```NewElectionQuery```, 
   ```InvalidCredentialException``` is thrown.
2. When user election cannot be registered with database, 
  ```RestrictedActionException``` is thrown.
3. Any other failure, ```InternalFailure``` is thrown.

### Edit an election ###
**Note**: Any kind of editing to an election can only be done if
the user has Admin rights for that election.

Will be updated in future commits.

# Todo #
1. The design makes it possible for integrating 
    multiple sql/nosql databases. The current version
   supports only h2 database. Add support for AWS DynamoDB.
